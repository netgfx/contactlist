!function(a){"use strict";a||(a=window);var b="__S";"undefined"==typeof a[b]&&(a[b]={}),b=a[b],b.plugins={},b.Logger={log:function(){}}}(window),function(a){"use strict";a||(a=window),Array.prototype.forEach||(Array.prototype.forEach=function(a){if(void 0===this||null===this)throw new TypeError;var b=Object(this),c=b.length>>>0;if("function"!=typeof a)throw new TypeError;for(var d=arguments.length>=2?arguments[1]:void 0,e=0;c>e;e++)e in b&&a.call(d,b[e],e,b)});var b,c,d,e=a.__S||(a.__S={}),f=a.document.documentElement.style,g=["webkit","Moz","ms"],h=a.navigator,i=h&&h.userAgent,j=i&&i.match(/Windows Phone (?:OS[ /])?(\d+)\.(\d+)/),k=i&&i.match(/iP(?:hone|ad;(?: U;)? CPU) OS (\d+)/),l=i&&i.match(/Android/),m=!!j,n=!m&&!!k,o=!m&&!!l,p=k&&k[1]>=8,q=!1,r=!1;if("transition"in f)q=!0,c="";else for(d=0;d<g.length;d++)b=g[d]+"Transition","undefined"!==f[b]&&(q=!0,c=g[d]);if("undefined"!=typeof f.transform)r=!0;else for(d=0;d<g.length;d++)b=g[d]+"Transform","undefined"!=typeof f[b]&&(r=!0,c=g[d]);e.support={prefix:c,transition:q,transform:r,matrix:!(!a.WebKitCSSMatrix&&!a.MSCSSMatrix),touch:"ontouchstart"in a,pointers:a.navigator.pointerEnabled,msPointers:a.navigator.msPointerEnabled,touchScroll:p,isWP:m,isIOS:n,isAndroid:o}}(window),function(a){"use strict";function b(b,c){for(var d=["Top","Right","Bottom","Left"],e=a.getComputedStyle(c),f="width"===b,g=f?1:0,h=0;4>g;g+=2)h+=parseInt(e["margin"+d[g]],10);return h+(f?c.offsetWidth:c.offsetHeight)}a||(a=window);var c=a.__S||(a.__S={}),d=c.support,e=d&&d.prefix,f={};return d?(d.transition&&d.transform&&(f=""!==e?{transform:e+"Transform",transition:e+"Transition",transitionProperty:e+"TransitionProperty",transitionTimingFunction:e+"TransitionTimingFunction",transitionDuration:e+"TransitionDuration",transformOrigin:e+"TransformOrigin",boxSizing:e+"BoxSizing",matrix:a.WebKitCSSMatrix||a.MSCSSMatrix}:{transform:"transform",transition:"transition",transitionProperty:"transitionProperty",transitionTimingFunction:"transitionTimingFunction",transitionDuration:"transitionDuration",transformOrigin:"transformOrigin",boxSizing:"boxSizing",matrix:a.WebKitCSSMatrix||a.MSCSSMatrix}),f.getHeight=function(a){return b("height",a)},f.getWidth=function(a){return b("width",a)},void(c.styles=f)):void a.console.log("Scroller Dependency error! browser support detection needed")}(window),function(a){"use strict";a||(a=window);var b=a.__S||(a.__S={}),c={simpleMerge:function(a,b){var c,d={};for(c in a)a.hasOwnProperty(c)&&(d[c]=a[c]);for(c in b)b.hasOwnProperty(c)&&(d[c]=b[c]);return d},parseDOM:function(b){var c;return b&&b.length?"string"==typeof b?(c=a.document.createElement("div"),c.innerHTML=b,Array.prototype.slice.call(c.children,0)):Array.prototype.slice.call(b,0):void 0},bind:function(a,b,c,d){a.addEventListener(b,c,!!d)},unbind:function(a,b,c,d){a.removeEventListener(b,c,!!d)}};b.helpers=c}(window),function(a){"use strict";a||(a=window);for(var b=0,c="CancelAnimationFrame",d=["ms","moz","webkit","o"],e=0;e<d.length&&!a.requestAnimationFrame;++e)a.requestAnimationFrame=a[d[e]+"RequestAnimationFrame"],a.cancelAnimationFrame=a[d[e]+c]||a[d[e]+c];a.requestAnimationFrame||(a.requestAnimationFrame=function(c){var d=(new Date).getTime(),e=Math.max(0,16-(d-b)),f=a.setTimeout(function(){c(d+e)},e);return b=d+e,f}),a.cancelAnimationFrame||(a.cancelAnimationFrame=function(b){a.clearTimeout(b)})}(window),function(a){function b(a){if(this._element=a,a.className!=this._classCache){if(this._classCache=a.className,!this._classCache)return;var b,c=this._classCache.replace(/^\s+|\s+$/g,"").split(/\s+/);for(b=0;b<c.length;b++)h.call(this,c[b])}}function c(a,b){a.className=b.join(" ")}function d(a,b,c){Object.defineProperty?Object.defineProperty(a,b,{get:c}):a.__defineGetter__(b,c)}if(a||(a=window),!("undefined"==typeof a.Element||"classList"in document.documentElement)){Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){for(var c=b||0,d=this.length;d>c;c++)if(this[c]===a)return c;return-1});var e=Array.prototype,f=e.indexOf,g=e.slice,h=e.push,i=e.splice,j=e.join;b.prototype={add:function(a){this.contains(a)||(h.call(this,a),c(this._element,g.call(this,0)))},contains:function(a){return-1!==f.call(this,a)},item:function(a){return this[a]||null},remove:function(a){var b=f.call(this,a);-1!==b&&(i.call(this,b,1),c(this._element,g.call(this,0)))},toString:function(){return j.call(this," ")},toggle:function(a){return this.contains(a)?this.remove(a):this.add(a),this.contains(a)}},window.DOMTokenList=b,d(Element.prototype,"classList",function(){return new b(this)})}}(window),function(a){"use strict";function b(a,b,c,e){function f(a,b){return 1-3*b+3*a}function g(a,b){return 3*b-6*a}function h(a){return 3*a}function i(a,b,c){return((f(b,c)*a+g(b,c))*a+h(b))*a}function j(a,b,c){return 3*f(b,c)*a*a+2*g(b,c)*a+h(b)}function k(b){var e,f,g,h=b,k=d;for(g=0;k>g;g++){if(e=j(h,a,c),0===e)return h;f=i(h,a,c)-b,h-=f/e}return h}var l;return l=function(d){return a===b&&c===e?d:i(k(d),b,e)},l.toString=function(){return"cubic-bezier("+a+", "+b+", "+c+", "+e+")"},l}a||(a=window);var c=a.__S||(a.__S={}),d=4;c.CubicBezier=b}(window),function(a){"use strict";function b(a,b){b||(b={}),this._initializeScroller(),this._setConfig(b),this._setElement(a),this._setSize(),this._initializePlugins(b),this._initialize(),this._handleEvents("bind")}a||(a=window);var c=Date.now||function(){return(new Date).getTime()},d=a.requestAnimationFrame,e=a.cancelAnimationFrame,f=a.__S||{},g=f.plugins,h=f.helpers,i=f.support,j=f.styles,k=f.CubicBezier,l=f.Logger,m=i.isIOS,n="lock",o="gestureStart",p="gestureMove",q="scrollMove",r="gestureEnd",s="animationStart",t="animationMove",u="animationEnd",v="scroll",w="mutationObserver",x="before",y="after",z={touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,pointerdown:3,pointermove:3,pointerup:3,MSPointerDown:4,MSPointerMove:4,MSPointerUp:4},A="vertical",B="horizontal",C="bidirectional",D={subtree:!0,childList:!0,attributes:!1},E={enabled:!0,bounceTime:600,useCSSTransition:!1,useNativeScroller:!1,dualListeners:!1,minThreshold:5,minDirectionThreshold:2,lockOnDirection:null,itemHeight:null,itemWidth:null,bindToWrapper:!1,scroll:A,pullToRefresh:!1,pullToLoadMore:!1,scrollbars:!1,infiniteLoading:!1,gpuOptimization:!1,debounce:!0,observeDomChanges:!0,observeDomConfig:D},F=k(.33,.66,.66,1),G=k(.33,.33,.66,.81),H={regular:{style:F.toString(),fn:F},bounce:{style:G.toString(),fn:G}},I=.1,J=.002,K=20,L=!1;b.DEFAULTS=E,b.CubicBezier=k,b.EASING_REGULAR=F,b.EASING_BOUNCE=G,b.EASING=H,b.MIN_VELOCITY=I,b.ACCELERATION_CONSTANT=J,b.SCROLL_VERTICAL=A,b.SCROLL_HORIZONTAL=B,b.MOUSE_WHEEL_SPEED=K,b.MOUSE_WHEEL_INVERTED=L,b.Logger=l,b.plugins=g,b.registerPlugin=function(a,b){this.plugins[a]&&l.log("Overriding plugin: ",a),this.plugins[a]=b},b.prototype={_initializeScroller:function(){this._events={},this.x=0,this.y=0},_initialize:function(){this._fire("_initialize")},_initializePlugins:function(){var a=this.opts.plugins,b=g.SurfaceManager,c=g.PullToRefresh,d=g.PullToLoadMore,e=!this.opts.useCSSTransition&&this.opts.gpuOptimization,f=this.opts.onPullToRefresh,h=this.opts.onPullToLoadMore;f&&c&&this.plug(c),h&&d&&this.plug(d),e&&b&&this.plug(b),a&&a.forEach(function(a){this.plug(a)},this)},_observeChanges:function(){return window.MutationObserver&&this.opts.observeDomChanges&&!this.opts.gpuOptimization},_initializeDOMObserver:function(){var a=this,b=this.opts.observeDomConfig,c=this.observer=new MutationObserver(function(){a._observedDOMChange.apply(a,arguments)});c.observe(this.wrapper,b)},_observedDOMChange:function(){this.refresh(w)},_mergeConfigOptions:function(a,b){return h.simpleMerge(a,b)},setEnable:function(a){this.enabled=a},_setConfig:function(a){var b=this.opts=this._mergeConfigOptions(E,a);this.enabled=b.enabled,this.scroll=b.scroll,this.itemHeight=b.itemHeight,this.itemWidth=b.itemWidth,this.acceleration=b.acceleration||J,this.scrollVertical=this.scroll===A,b.infiniteLoading&&b.pullToLoadMore&&(l.log("You cannot have infiniteLoading and pullToShowMore at the same time.Switching to infiniteLoading"),this.opts.pullToLoadMore=!1),this.scrollVertical||!b.pullToRefresh&&!b.pullToLoadMore||(l.log("The attributes: pullToRefresh or pullToShowMore are not available in horizontal mode yet. Switching them to false"),this.opts.pullToRefresh=!1,this.opts.pullToLoadMore=!1),this.opts.scroll===C&&(this.opts.debounce=!1)},_setElement:function(b){this.wrapper="string"==typeof b?a.document.querySelector(b):b,this.scroller=this.wrapper.children[0],this.scrollerStyle=this.scroller.style;var c=this.scroll===C?"scroll-bidirectional":this.scrollVertical?"scroll-vertical":"scroll-horizontal";this.scroller.classList.add("scroller"),this.wrapper.classList.add("scroller-wrapper"),this.wrapper.classList.add(c),this.opts.useNativeScroller&&this.wrapper.classList.add("native")},_setWrapperSize:function(){var a=this.wrapperSize;this.wrapperWidth=this.wrapper.clientWidth,this.wrapperHeight=this.wrapper.clientHeight,this.wrapperSize=this.scrollVertical?this.wrapperHeight:this.wrapperWidth,this.opts.useNativeScroller&&a!==this.wrapperSize&&(this.scroller.style.height=this.wrapperSize+"px")},_setSize:function(){var a=this.scroller,b=this.opts.pullToLoadMore;this._setWrapperSize(),this._sizePullToShowMore(),this.scrollerWidth=a.offsetWidth,this.scrollerHeight=b?a.offsetHeight-this.getPTLSize():a.offsetHeight,this.maxScrollX=this.wrapperWidth-this.scrollerWidth,this.maxScrollY=this.wrapperHeight-this.scrollerHeight,this.maxScrollX=this.maxScrollX>0?0:this.maxScrollX,this.maxScrollY=this.maxScrollY>0?0:this.maxScrollY,this.hasScrollX=this.maxScrollX<0,this.hasScrollY=this.maxScrollY<0},_sizePullToShowMore:function(){},getPTLSize:function(){return 0},_destroy:function(){this._handleEvents("unbind")},_iosScrollFixture:function(){0===this.scroller.scrollTop&&(this.scroller.scrollTop=1)},_handleEvents:function(a){{var b=this,c="bind"===a?h.bind:h.unbind,d=this.wrapper,e=this.opts.bindToWrapper?d:window,f=!1;this.scroller}return c(window,"orientationchange",this),c(window,"resize",this),this._observeChanges()&&this._initializeDOMObserver(),this.opts.useNativeScroller?(c(this.scroller,"scroll",this),void(m&&!this.opts.pullToRefresh&&c(d,"touchstart",function(){b._iosScrollFixture.apply(b,arguments)}))):(i.touch&&!this.opts.disableTouch&&(c(d,"touchstart",this),c(e,"touchmove",this),c(e,"touchcancel",this),c(e,"touchend",this)),!i.pointers&&!i.msPointers||this.opts.disablePointers||(i.pointers?(c(d,"pointerdown",this),c(e,"pointermove",this),c(e,"pointercancel",this),c(e,"pointerup",this)):(c(d,"MSPointerDown",this),c(e,"MSPointerMove",this),c(e,"MSPointerCancel",this),c(e,"MSPointerUp",this)),f=!0),!this.opts.disableMouse&&(!f||f&&this.opts.dualListeners)&&(c(d,"mousedown",this),c(e,"mousemove",this),c(e,"mousecancel",this),c(e,"mouseup",this)),this.opts.disableWheel||this.opts.useNativeScroller||(c(d,"wheel",this),c(d,"mousewheel",this),c(d,"DOMMouseScroll",this)),c(this.scroller,"transitionend",this),void c(this.scroller,i.prefix+"TransitionEnd",this))},_fire:function(a){var b,c=this._events[a],d=c&&c.length,e=Array.prototype.slice.call(arguments,1);if(d)for(var f=0;d>f;f++)b=c[f],b.fn.apply(b.context||this,e)},_hook:function(a,b,c){var d=this[b];d&&(a===y?this[b]=function(){d.apply(this,arguments),c.apply(this,arguments)}:a===x&&(this[b]=function(){c.apply(this,arguments),d.apply(this,arguments)}))},handleEvent:function(a){switch(a.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(a);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(a);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(a);break;case"orientationchange":case"resize":this.resize();break;case"transitionend":case i.prefix+"TransitionEnd":this._transitionEnd(a);break;case"wheel":case"DOMMouseScroll":case"mousewheel":this._wheel(a);break;case"scroll":this._nativeScroll(a)}},_start:function(a){if(this.enabled&&(!this._initiated||z[a.type]===this._initiated)){var b=a.touches?a.touches[0]:a;this._initiated=z[a.type],this.moved=!1,this.distX=0,this.distY=0,this.velocity=0,this.scrollDirection=null,this._transitionTime(),this._isAnimating=!1,this._isScrolling&&(this._stopMomentum(),this._isScrolling=!1,this._onStopScrolling(a)),this.startX=this.x,this.startY=this.y,this.pointX=b.pageX,this.pointY=b.pageY,this.startTime=c(),this._lastPosition=this.scrollVertical?this.startY:this.startX,this._fire("beforeScrollStart",o,a)}},_onStopScrolling:function(a){a.preventDefault()},_trackVelocity:function(){var a,b=this._lastPosition,c=this.scrollVertical?this.y:this.x,d=17,e=c-b;this._lastPosition=c,a=e/d,this.velocity=.6*a+.4*this.velocity},_startMoveRAF:function(){function a(c){b._translate(b.x,b.y),b._trackVelocity(c),b._update(),b._fire(q,p,b.x,b.y),b._rafMoving=d(a)}var b=this;a()},_endMoveRAF:function(){e(this._rafMoving)},_update:function(){this._fire("_update")},_needsLocking:function(){return this.opts.lockOnDirection&&this.scrollDirection&&this.opts.lockOnDirection===this.scrollDirection},_lockScroller:function(){this._initiated=!1,this._fire(n,this.scrollDirection)},_getScrollDirection:function(a,b){var c=this.opts.minDirectionThreshold;return this.scrollDirection=a>b+c?B:b>a+c?A:null,this.scrollDirection&&this.opts.lockOnDirection&&this.scroll===C&&(this.scrollVertical=this.scrollDirection===A),this.scrollDirection},_isOutOfScroll:function(a,b){return this.scrollVertical?b>0||b<this.maxScrollY:a>0||a<this.maxScrollX},_setNormalizedXY:function(a,b){this.opts.lockOnDirection||this.scroll!==C?this.scrollVertical?this.y=b:this.x=a:(this.x=a,this.y=b)},_move:function(a){if(!this.enabled||z[a.type]!==this._initiated)return void(a.scrollDirection=this.scrollDirection);var b,d,e,f,g=a.touches?a.touches[0]:a,h=g.pageX-this.pointX,i=g.pageY-this.pointY,j=c();return this.moved||!h&&!i||(this.moved=!0,this._translate(this.x,this.y),this._fire("scrollStart",o,a),(!this.opts.useCSSTransition||this.opts.debounce)&&this._startMoveRAF()),this.pointX=g.pageX,this.pointY=g.pageY,this.distX=this.distX+h,this.distY=this.distY+i,e=Math.abs(this.distX),f=Math.abs(this.distY),b=this.x+h,d=this.y+i,a.scrollDirection=this.scrollDirection||this._getScrollDirection(e,f),this._needsLocking()?void this._lockScroller():this.opts.minThreshold&&e<this.opts.minThreshold&&f<this.opts.minThreshold?void this._fire(q,p,this.x,this.y,a):(this._isOutOfScroll(b,d)&&(d=this.y+i/3,b=this.x+h/3),this._setNormalizedXY(b,d),void(this.opts.useCSSTransition&&!this.opts.debounce&&(this._translate(this.x,this.y),this._fire(q,p,this.x,this.y,a),j-this.startTime>300&&(this.startTime=j,this.startX=this.x,this.startY=this.y))))},_end:function(a){if(this._endMoveRAF(),!this.enabled||!this.moved||z[a.type]!==this._initiated)return void(this._initiated=!1);this._initiated=!1;{var b,d=c()-this.startTime;H.regular}if(!this._resetPosition(this.opts.bounceTime))if(this._isScrolling=!0,this.scrollVertical)b=this._momentum(this.y,this.startY,d,this.maxScrollY,this.wrapperHeight),this._scrollTo(this.x,b.destination,b.time,b.bounce);else if(this.scroll===C){var e=this._momentum(this.x,this.startX,d,this.maxScrollX,this.wrapperWidth),f=this._momentum(this.y,this.startY,d,this.maxScrollY,this.wrapperHeight);this._scrollTo(e.destination,f.destination,Math.max(e.time,f.time),e.bounce)}else b=this._momentum(this.x,this.startX,d,this.maxScrollX,this.wrapperWidth),this._scrollTo(b.destination,this.y,b.time,b.bounce)},_wheel:function(a){if(this.enabled){a.preventDefault(),a.stopPropagation();var c,e,f,g,h=this,i=b.MOUSE_WHEEL_SPEED,j=b.MOUSE_WHEEL_INVERTED?-1:1;if("deltaX"in a)c=-a.deltaX,e=-a.deltaY;else if("wheelDeltaX"in a)c=a.wheelDeltaX/120*i,e=a.wheelDeltaY/120*i;else if("wheelDelta"in a)c=e=a.wheelDelta/120*i;else{if(!("detail"in a))return;c=e=-a.detail/3*i}c*=j,e*=j,this.scrollVertical||(c=e,e=0),f=this.x+Math.round(this.hasScrollX?c:0),g=this.y+Math.round(this.hasScrollY?e:0),f>0?f=0:f<this.maxScrollX&&(f=this.maxScrollX),g>0?g=0:g<this.maxScrollY&&(g=this.maxScrollY),this.x=f,this.y=g,this._rafWheel||(this._rafWheel=d(function(){h._isScrolling=!0,h.distY=e,h.distX=c,h._wheelRAF()}))}},_wheelRAF:function(){this._translate(this.x,this.y),this._update(),this._rafWheel=!1,this._isScrolling=!1},_getVelocity:function(a,b,c){var d=this.opts.debounce?this.velocity:(a-b)/c;return Math.abs(d)<I&&(d=0),this.velocity=d,d},_computeMomentum:function(a,b){var c=this.acceleration,d=Math.abs(a)/c,e=a/4*d;return{destination:b+e,time:d}},_computeSnap:function(a,b,c,d){var e=a+b/2*(c/8);return{destination:e,time:Math.abs((e-d)/c)}},_momentum:function(a,b,c,d,e){var f=this._getVelocity(a,b,c),g=this._computeMomentum(f,a);return g.destination<d?(g=this._computeSnap(d,e,f,a),g.bounce=H.bounce):g.destination>0&&(g=this._computeSnap(0,e,f,a),g.bounce=H.bounce),g},_stopMomentum:function(){var b,c,d,f,g=j.transform,h=j.transition;this.opts.useCSSTransition?(b=a.getComputedStyle(this.scroller,null),i.matrix?(c=new j.matrix(b[g]),this.scrollerStyle[h]="",d=c.m41,f=c.m42):(c=b[g].split(")")[0].split(", "),d=+(c[12]||c[4]),f=+(c[13]||c[5])),this._translate(d,f)):e(this._rafReq)},_customResetPosition:function(){return this.opts.pullToRefresh||this.opts.pullToLoadMore},_resetPosition:function(a){a||(a=0);var b,c=this.x,d=this.y;return this._customResetPosition()&&(this.opts.pullToRefresh&&this.isTriggeredPTR()?b=this.getResetPositionPTR():this.opts.pullToLoadMore&&this.isTriggeredPTL()&&(b=this.resetPositionPTL())),b?(d=b.y,c=b.x,a=b.time||a):(!this.hasScrollY||this.y>0?d=0:this.y<this.maxScrollY&&(d=this.maxScrollY),!this.hasScrollX||this.x>0?c=0:this.x<this.maxScrollX&&(c=this.maxScrollX)),d===this.y&&c===this.x?!1:(this._scrollTo(c,d,a,H.regular),!0)},_transitionEasing:function(a){this.scrollerStyle[j.transitionTimingFunction]=a},_transitionTime:function(a){a||(a=0),this.scrollerStyle[j.transitionDuration]=a+"ms"},_translate:function(a,b){!this.opts.useNativeScroller||this.forceTranslate?this.scrollerStyle[j.transform]="translate3d("+a+"px,"+b+"px, 0)":this._wrapperScrollTo(a,b),this.x=a,this.y=b},_transitionEnd:function(a){this.opts.useCSSTransition&&a.target===this.scroller&&(this._transitionTime(),this._resetPosition(this.opts.bounceTime)||(this._isScrolling=!1,this._fire("scrollEnd",u)))},_animate:function(a,b,e,f){function g(){var o,p,r,s=c();return s>=n?(h._isAnimating=!1,h._rafReq=null,h._translate(a,b),void(h._resetPosition(h.opts.bounceTime)||(h._fire("scrollEnd",u),h._isScrolling=!1))):(s=(s-k)/e,r=f(s),o=l*r+i,p=m*r+j,h._translate(o,p),h._fire(q,t,o,p),h._update(),void(h._isAnimating&&(h._rafReq=d(g))))}var h=this,i=this.x,j=this.y,k=c(),l=a-i,m=b-j,n=k+e;this._isAnimating=!0,g()},_prependData:function(b){var c=a.document.createDocumentFragment(),d=this.scroller,e=d.firstChild;b.forEach(function(a){c.appendChild(a)}),d.lastChild===e?d.appendChild(c):d.insertBefore(c,e.nextSibling)},_appendData:function(b){var c,d=a.document.createDocumentFragment(),e=this.scroller;for(c=0;c<b.length;c++)d.appendChild(b[c]);e.appendChild(d)},_scrollTo:function(a,b,c,d){d||(d=H.regular),!c||this.opts.useCSSTransition?(this._transitionEasing(d.style),this._transitionTime(c),this._translate(a,b),this._update(),c?this._fire(s,s):(this._isScrolling=!1,this._fire(r))):this._animate(a,b,c,d.fn)},_nativeScroll:function(a){i.isIOS?this._nativeScrollIOS(a):this._nativeScrollRAF(a)},_nativeScrollIOS:function(a){this._rafNativeScroll||(this._rafNativeScroll=d(this._nativeScrollRAF.bind(this,a)))},_nativeScrollRAF:function(a){var b=-this.scroller.scrollLeft,c=-this.scroller.scrollTop;this._fire(q,v,b,c,a),this.distX=b-this.x,this.distY=c-this.y,this._isScrolling=!0,this._update(),this.x=b,this.y=c,this._isScrolling=!1,this._rafNativeScroll=!1},_wrapperScrollTo:function(a,b){this.scroller.scrollTop=this.scrollVertical?Math.abs(b):this.scroller.scrollTop,this.scroller.scrollLeft=this.scrollVertical?this.scroller.scrollLeft:Math.abs(a)},on:function(a,b,c){var d=this._events[a]||(this._events[a]=[]);d.push({fn:b,context:c})},resize:function(){var a=this;d(function(){a._translate(0,0),a._setSize()})},refresh:function(){var a=this;this._rafRefresh||(this._rafRefresh=d(function(){a._fire("_refresh"),a._setSize(),a._rafRefresh=null}))},plug:function(a){var b,c="string"==typeof a?g[a]:a,d=c&&c.prototype||c,e=["init"];if(d){for(b in d)-1===e.indexOf(b)&&(this[b]=d[b]);d.init&&d.init.call(this)}else console.log("Error adding plugin:",a)},scrollTo:function(a,b){(this.x!==a||this.y!==b)&&(this._stopMomentum(),this.distX=a-this.x,this.distY=b-this.y,this._isScrolling=!0,this._scrollTo.apply(this,arguments))},scrollToTop:function(a,b){this.scrollTo(0,0,a,b)},scrollToBottom:function(a,b){var c=this.maxScrollX,d=this.maxScrollY;this.scrollVertical?c=0:d=0,this.scrollTo(c,d,a,b)},prependItems:function(a){var b=h.parseDOM(a);b&&(this._prependData(b),this._setSize())},appendItems:function(a){var b=h.parseDOM(a);b&&(this._appendData(b),this._setSize())},destroy:function(){this._destroy(),this._fire("destroy")}},a.Scroller=f.constructor=b}(window),function(a){"use strict";function b(){}a||(a=window);var c=a.__S||(a.__S={}),d=c.plugins||(c.plugins={}),e=(c.support,c.styles),f=c.helpers,g=a.requestAnimationFrame,h=c.Logger,i=10;return b.matrixTransform=function(a,b){return"matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,"+a+","+b+", 0, 1)"},b.translateTransform=function(a,b){return"translate3d("+a+"px,"+b+"px, 0)"},b.prototype={init:function(){this.surfacesPositioned=[],this.surfacesPool=[],this.items=[],this.on("_initialize",this._initializeSurfaceManager),this.on("_update",this._updateSurfaceManager),this.on("destroy",this._destroySurfaceManager)},_initializeSurfaceManager:function(){this._initTransformFunction(),this._bootstrapItems(),this._initializeSurfaces(),this._setActiveOffset(),this._initializePositions(),this._setInfiniteScrollerSize(),this._setWrapperState()},_initTransformFunction:function(){this._transformFnc=this.opts.useNativeScroller?b.translateTransform:b.matrixTransform},_setWrapperState:function(){if(this.opts.useNativeScroller){var a=this.opts.pullToRefresh&&this.opts.pullToRefreshConfig;a&&"native"===a.type&&this.scrollTo(0,-this.getPTRSize())}},_destroySurfaceManager:function(){var b=a.document.createDocumentFragment();this.items.forEach(function(a){b.appendChild(a.dom)}),this.scroller.innerHTML="",this.scroller.appendChild(b),this.items=[],this.surfacesPool=[],this.surfacesPositioned=[]},_bootstrapItems:function(){var a,b,c=this.opts.pullToRefresh&&this.opts.pullToRefreshConfig,d=c&&"ios"!==c.type?1:0,e=Array.prototype.slice.call(this.scroller.children,d),f=e.length,g=[];if(f)for(b=0;f>b;b++)a=e[b],g[b]={dom:a},this.scroller.removeChild(a);this.items=g},_setActiveOffset:function(){this.activeOffset=.9*(this.scrollVertical?this.wrapperHeight:this.wrapperWidth)},_initializePositions:function(){for(var a,b,c=this.items,d=this.scrollVertical?this.wrapperHeight:this.wrapperWidth,e=this.surfacesPositioned,f=c.length,g=!0,h=d+2*this.activeOffset,i=0,j=0;f>j&&g;j++)a=c[j],b=this._getAvailableSurface(),i+=this._attachItemInSurface(a,b,{index:j,offset:i}),g=h>i,e[j]=b;this._updateSurfaceSizeTracker(0,this.scrollVertical?i:0)},_createSurfaceDOM:function(b,c){b||(b={});var d=a.document.createElement("div"),f=d.style;return d.className=b["class"]?"surface "+b["class"]:"surface",f.height=b.height&&b.height+"px",f.width=b.width&&b.width+"px",f[e.transform]="scale3d(0.0001, 0.0001, 1)",c&&d.appendChild(c),d},_createSurface:function(a,b){a||(a={});var c=this._createSurfaceDOM(a,b);return{dom:c,contentIndex:a.index,content:b,state:0,offset:0,width:0,height:0}},_createSurfaces:function(a,b){b||(b={});var c,d=[];for(c=0;a>c;c++)d.push(this._createSurface(b));return d},_getSurfaceTotalOffset:function(a){return a.offset+(this.scrollVertical?a.height:a.width)},_attachItemInSurface:function(a,b,c){var d,f,g=c.offset,h=c.index,i=0,j=0;return b.dom.appendChild(a.dom),f=b.dom.offsetHeight,d=b.dom.offsetWidth,this.scrollVertical?j=c.preCalculateSize?g-f:g:i=c.preCalculateSize?g-d:g,b.dom.style[e.transform]=this._transformFnc(i,j),b.state=1,b.contentIndex=h,b.content=a,b.height=f,b.width=d,b.offset=j||i,this.scrollVertical?f:d},_dettachItemInSurface:function(a){a.state=0,a.contentIndex=null,a.content=null,a.height=null,a.width=null,a.offset=null,a.dom.removeChild(a.dom.firstChild)},_attachSurfaces:function(b,c){var d,e,f=a.document.createDocumentFragment(),g=this.scroller;for(e=0;e<b.length;e++)d=b[e],f.appendChild(d.dom),c||this.surfacesPool.push(d);g.appendChild(f)},_getAvailableSurface:function(){for(var a,b,c=this.surfacesPool,d=0;d<c.length;d++)if(b=c[d],!b.state)return b;return a=this._createSurfaces(1),this._attachSurfaces(a),this._getAvailableSurface()},_emptyScroller:function(){return!this.getNumItems()},_initializeSurfaces:function(){var a=this.items,b=Math.min(i,a.length),c=this._createSurfaces(b);this._attachSurfaces(c),this._attachTrackSurface()},_attachTrackSurface:function(){var a=this._createSurface();a.dom.style.cssText="width:100%;height:1px;opacity:0",a.dom.classList.add("max-size-tracker"),this._sizeTrackSurface=a,this._attachSurfaces([a],!0),this.lastTrackSizeX=0,this.lastTrackSizeY=0},_resetSurfaces:function(){for(var a,b=this.surfacesPositioned,c=b.length,d=0;c>d;d++)a=b.shift(),this._dettachItemInSurface(a)},_updateOffset:function(){var a=this._positionedSurfacesLast(),b=this.scrollVertical,c=a.offset+(b?a.height:a.width),d=b?0:c,e=b&&c;this._updateSurfaceSizeTracker(d,e)},_updateSurfaceSizeTracker:function(a,b){this._sizeTrackSurface&&(a>this.lastTrackSizeX||b>this.lastTrackSizeY)&&(this.lastTrackSizeX=a,this.lastTrackSizeY=b,this._sizeTrackSurface.dom.style[e.transform]="translate3d("+a+"px,"+b+"px,0)")},_mod:function(a){return a},_positionBeingUsed:function(a){var b=this._positionedSurfacesFirst(),c=this._positionedSurfacesLast();return a===b.contentIndex||a===c.contentIndex},_positionedSurfacesFirst:function(){return this.surfacesPositioned[0]},_positionedSurfacesLast:function(){var a=this.surfacesPositioned;return a[a.length-1]},_positionedSurfacesPush:function(){var a,b=this._positionedSurfacesLast(),c=this._getSurfaceTotalOffset(b),d=this._mod(b.contentIndex+1),e={index:d,offset:c};return this._positionBeingUsed(d)?b:(a=this._getAvailableSurface(),this._attachItemInSurface(this.items[d],a,e),this.surfacesPositioned.push(a),h.log("PUSH   ",Date.now()),a)},_positionedSurfacesPop:function(){h.log("POP    ",Date.now());var a=this.surfacesPositioned.pop();return this._dettachItemInSurface(a),this._positionedSurfacesLast()},_positionedSurfacesUnshift:function(){var a,b=this._positionedSurfacesFirst(),c=this._mod(b.contentIndex-1),d={index:c,offset:b.offset,preCalculateSize:!0};return this._positionBeingUsed(c)?b:(a=this._getAvailableSurface(),this._attachItemInSurface(this.items[c],a,d),this.surfacesPositioned.unshift(a),h.log("UNSHIFT",Date.now()),a)},_positionedSurfacesShift:function(){h.log("SHIFT  ",Date.now());var a=this.surfacesPositioned.shift();return this._dettachItemInSurface(a),this._positionedSurfacesFirst()},_itemsLeft:function(a){var b,c=this._positionedSurfacesFirst().contentIndex,d=this._positionedSurfacesLast().contentIndex,e=this.items.length-1;return b="top"===a?c>0:"bottom"===a?e>d:c>0||e>d},_getBoundaries:function(a,b){var c=this.activeOffset,d=Math.abs(a);return{top:d-c>0?d-c:0,bottom:d+b+c}},_updateAllowed:function(a){return a.pos<0&&(this._isScrolling||Math.abs(a.dist)>10)},_recycleSurface:function(){return!0},_getPosition:function(){return this.scrollVertical?{pos:this.y,dist:this.distY,size:this.wrapperHeight,maxScroll:this.maxScrollY}:{pos:this.x,dist:this.distX,size:this.wrapperWidth,maxScroll:this.maxScrollX}},_updateSurfaceManager:function(){if(this._emptyScroller()||!this.surfacesPositioned.length)return void(this.getNumItems()>0&&(this._initializePositions(),this._setInfiniteScrollerSize()));var a,b=this,c=this._getPosition(),d=this.opts.useNativeScroller,e=this._getBoundaries(c.pos,c.size),f=this._itemsLeft("bottom"),h=this._positionedSurfacesFirst(),i=this._getSurfaceTotalOffset(h),j=this._positionedSurfacesLast(),k=j.offset,l=!1,m=!1;if(this._updateAllowed(c)){if(!d&&this._isScrolling&&!f&&c.pos<c.maxScroll-c.size/4&&(this._isAnimating=!1,this._isScrolling=!1,this._stopMomentum(),g(function(){b._resetPosition(b.opts.bounceTime)})),c.dist<0){for(;this._itemsLeft("bottom")&&k<e.bottom&&!m;)a=this._positionedSurfacesPush(),a===j?m=!0:(j=a,k=j.offset,l=!0,this._updateOffset());if(l)return this._setInfiniteScrollerSize();for(;e.top>i&&this._recycleSurface("top");)h=this._positionedSurfacesShift(),i=this._getSurfaceTotalOffset(h),l=!0}else{for(;h.offset>e.top&&!m;)a=this._positionedSurfacesUnshift(),a===h?m=!0:(h=a,i=this._getSurfaceTotalOffset(h),l=!0);if(l)return this._setInfiniteScrollerSize();for(;k>e.bottom&&this._itemsLeft("top")&&this._recycleSurface("bottom");)j=this._positionedSurfacesPop(),k=j.offset,l=!0}return l?this._setInfiniteScrollerSize():void 0}},_setInfiniteScrollerSize:function(){var a=this.surfacesPositioned,b=(this.items,this.scrollVertical?this.wrapperHeight:this.wrapperWidth),c=this.opts.pullToLoadMore&&this._ptlIsEnabled(),d=c?a.length-3:a.length-1,e=a[d],f=this.getNumItems(),g=0,h=0;e&&(g=e.contentIndex<f-(c?2:1),h=e.offset+(this.scrollVertical?e.height:e.width)),this.scrollVertical?(this.maxScrollY=g?Number.NEGATIVE_INFINITY:b-h,this.maxScrollY=this.maxScrollY>0?0:this.maxScrollY):(this.maxScrollX=g?Number.NEGATIVE_INFINITY:b-h,this.maxScrollX=this.maxScrollX>0?0:this.maxScrollX),this.hasScrollY=this.maxScrollY<0,this.hasScrollX=this.maxScrollX<0,c&&this._setInfinitePullToShowMoreSpacer(h)},_setInfinitePullToShowMoreSpacer:function(a){if(!(this.ptlSpacerSize<=0)){var b=this.wrapperHeight-a,c=b>0,d=this.surfacesPositioned,f=d[d.length-1],g=f&&f.dom;this.ptlSpacerSize=c?b:0,this.ptlSpacer.style.height=this.ptlSpacerSize+"px",g&&(b=c?this.wrapperHeight:a,g.style[e.transform]=this._transformFnc(0,b))}},_appendPullToLoad:function(){var a=this._createPullToLoadMarkup();this.items.push({ptl:!0,dom:a}),this.ptlDOM=a,this.ptlIcon=a.firstChild,this._ptlSnapTime=200,this._ptlEnabled=!0,this.maxScrollY>=0&&this._ptlToggle("disable")},resize:function(){var a=this;this._stopMomentum(),g(function(){a._setWrapperSize(),a.refresh(),a._scrollTo(0,0)})},refresh:function(){this._resetSurfaces(),this._initializePositions(),this._setInfiniteScrollerSize()},_prependData:function(a){var b,c;for(c=0;c<a.length;c++)b={dom:a[c]},this.items.unshift(b)},_appendData:function(a){var b,c,d,e;for(this.opts.pullToLoadMore&&(b=this.items.pop(),this._positionedSurfacesPop(),e=this.items.pop(),this._positionedSurfacesPop()),d=0;d<a.length;d++)c={dom:a[d]},this.items.push(c);this.opts.pullToLoadMore&&(this.items.push(e),this.items.push(b))},getNumItems:function(){return this.opts.pullToLoadMore?this.items.length-2:this.items.length},prependItems:function(a){var b=f.parseDOM(a);b&&(this._prependData(b),this.refresh())},appendItems:function(a){var b=f.parseDOM(a);b&&(this._appendData(b),this._updateSurfaceManager())}},c.SurfaceManager=d.SurfaceManager=b,b}(window),function(a){"use strict";function b(){}a||(a=window);var c=a.__S||(a.__S={}),d=a.requestAnimationFrame,e=c.plugins||(c.plugins={}),f=c.styles,g=c.helpers,h=c.support,i={synthetic:"synthetic","native":"native",ios:"ios"},j={labelPull:"Pull down to refresh...",labelClick:"Tap to refresh...",labelRelease:"Release to refresh...",labelUpdate:"Updating...",labelSubtitle:"",labelError:"Error on pull to refresh",type:void 0},k=200,l=1e3,m="update",n="pull",o="icon",p="error",q="label",r="sub";b.DEFAULTS=j,b.prototype={init:function(){this._mergePullToRefreshConfig(),this.on("_initialize",this._initializePullToRefresh),this.on("scrollMove",this._onScrollMovePTR),this.on("_customResetPosition",this._onResetPositionPTR),this.on("destroy",this._destroyPTR)},_getPTRType:function(){var a=this.opts.useNativeScroller;return a?h.isIOS?(this._iosPTR=!0,i.ios):(this._nativePTR=!0,i["native"]):(this._synthPTR=!0,i.synthetic)
},_mergePullToRefreshConfig:function(){var a=this._mergeConfigOptions(j,this.opts.pullToRefreshConfig);void 0===a.type&&(a.type=this._getPTRType()),this.opts.pullToRefreshConfig=a},_createPullToRefreshMarkup:function(){var b=this,c=a.document.createElement("div"),d=this.opts.pullToRefreshConfig.labelPull,e=this.opts.pullToRefreshConfig.labelClick,f=this._nativePTR?e:d,g=this.opts.pullToRefreshConfig.labelSubtitle;return c.innerHTML=['<span class="'+o+'"></span>','<span class="'+q+'">'+f+"</span>",'<span class="'+r+'">'+g+"</span>"].join(""),c.className="pullToRefresh",this._nativePTR&&c.addEventListener("click",function(){b.triggerPTR()}),c},_initializePullToRefresh:function(){this._iosPTR?(this._bindTouchEventsIOS(),this.on("_refresh",this._onRefreshPTR)):this._nativePTR&&this.on("_refresh",this._onRefreshPTR),this._appendPullToRefresh()},_destroyPTR:function(){},_bindTouchEventsIOS:function(){this.on("scrollEnd",this._onScrollEndPTR),g.bind(this.wrapper,"touchstart",function(a){this.y>=0&&(this._start(a),this.forceTranslate=!0)}.bind(this)),g.bind(this.wrapper,"touchmove",function(a){var b=a.touches?a.touches[0]:a,c=(b.pageX-this.pointX,b.pageY-this.pointY);(this._iosTouching||c>0&&0===this.scroller.scrollTop)&&(a.preventDefault(),this._iosTouching=!0,a.preventDefault(),this._move(a))}.bind(this)),g.bind(this.wrapper,"touchend",function(a){this._iosTouching=!1,this._end(a)}.bind(this))},_appendPullToRefresh:function(){var a=this._createPullToRefreshMarkup(),b=this._iosPTR,c=b?this.wrapper:this.scroller;c.firstChild?c.insertBefore(a,c.firstChild):c.appendChild(a),this.ptrDOM=a,this.ptrIcon=a.getElementsByClassName(o)[0],this.ptrLabel=a.getElementsByClassName(q)[0],this._ptrSize=a.offsetHeight,this._ptrSnapTime=k,this._nativePTR&&(this.ptrDOM.style.position="relative",this.scrollTo(0,this.getPTRSize())),this.togglePullToRefresh(this.opts.pullToRefresh,!0)},_onResetPositionPTR:function(a){if(this._ptrTriggered){var b=this._getPTRSize();a=a||this._getPTRSnapTime(),this.scrollTo(0,b,a)}else this._resetPosition(a,!0)},_onRefreshPTR:function(){var a=this.y;0!==a||this._ptrLoading||this.scrollTo(0,-this.getPTRSize())},_setPTRLoadingState:function(a){var b=this.opts.pullToRefreshConfig.labelUpdate,c=this.opts.pullToRefreshConfig.labelPull,d=this.opts.pullToRefreshConfig.labelClick,e=this._nativePTR?d:c;a?(this.ptrDOM.classList.add(m),this.ptrLabel.textContent=b,this._ptrLoading=!0):(this.ptrDOM.classList.remove(m),this.ptrDOM.classList.remove(n),this.ptrLabel.textContent=e,this._ptrLoading=!1,this._nativePTR&&this.scrollTo(0,-this.getPTRSize(),300))},_setPullState:function(a){a?(this.ptrDOM.classList.add(n),this.ptrLabel.textContent=this.opts.pullToRefreshConfig.labelRelease,this._ptrTriggered=!0):(this.ptrDOM.classList.remove(n),this.ptrLabel.textContent=this.opts.pullToRefreshConfig.labelPull,this._ptrTriggered=!1)},_setPTRErrorState:function(a){var b=this.opts.pullToRefreshConfig.labelError;"boolean"!=typeof a||a?(this._setPTRLoadingState(!1),this.ptrDOM.classList.add(p),this.ptrLabel.textContent=a.labelError||b):(this.ptrDOM.classList.remove(p),this._setPullState(!1))},_onScrollMovePTR:function(a,b,c){var d="gestureMove"===a,e=this._nativePTR;return this._iosPTR&&c>0&&(this.ptrDOM.style[f.transform]="translate3d(0,"+c+"px,0)"),d&&c>0?this._needsPullToRefresh(c):void(e&&c>-this._ptrSize&&(this.ptrDOM.style[f.transform]="translate3d(0,"+(50+c)+"px,0)"))},_onScrollEndPTR:function(){this._iosPTR&&!this._ptrTriggered&&(this.forceTranslate=!1)},_needsPullToRefresh:function(a){this._ptrTriggered&&a<this._ptrSize?this._setPullState(!1):!this._ptrTriggered&&a>this._ptrSize&&this._setPullState(!0)},_ptrToggle:function(a,b){var c=this.ptrDOM;c&&("disable"===a&&(this.opts.pullToRefresh||b)?(c.style.display="none",this._ptrSize=0,this.opts.pullToRefresh=!1):"enable"!==a||this.opts.pullToRefresh&&!b||(c.style.display="",this._ptrSize=c.offsetHeight,this.opts.pullToRefresh=!0))},_ptrExecTrigger:function(){var b=this,c=this.opts.onPullToRefresh,d=function(){b._ptrExecTriggerCallback.apply(b,arguments)};c?c(d):a.setTimeout(function(){b._ptrExecTriggerCallback("handler not defined")},600)},_ptrExecTriggerCallback:function(b,c){var e=this;b?(this._setPTRErrorState(b),this._ptrTriggered=!1,a.setTimeout(function(){e._resetPosition(e._ptrSnapTime),e._setPTRErrorState(!1)},l)):(this.prependItems(c),this._ptrTriggered=!1,this._setPTRLoadingState(!1),d(function(){e._resetPosition(e._ptrSnapTime)}))},isTriggeredPTR:function(){return this._ptrTriggered},getPTRSize:function(){return this._ptrSize},getPTRSnapTime:function(){return this._ptrSnapTime},triggerPTR:function(){this._ptrLoading||this._setPTRLoadingState(!0),this._ptrExecTrigger()},getResetPositionPTR:function(){return this._triggerPTRAfterReset?(this._triggerPTRAfterReset=!1,this.triggerPTR()):(this._setPTRLoadingState(!0),this._triggerPTRAfterReset=!0),{x:this.x,y:this.getPTRSize(),time:this.getPTRSnapTime()}},togglePullToRefresh:function(a,b){var c=void 0!==a,d=c?a?"enable":"disable":"";c?this._ptrToggle(d,b):this._ptrToggle(this.opts.pullToRefresh?"disable":"enable",b)}},e.PullToRefresh=b}(window),function(a){"use strict";function b(){}a||(a=window);var c=a.__S||(a.__S={}),d=a.requestAnimationFrame,e=c.plugins||(c.plugins={}),f=(c.styles,c.helpers,c.support),g={synthetic:"synthetic","native":"native",ios:"ios"},h={labelPull:"Pull up to show more",labelRelease:"Release to show more",labelUpdate:"Updating...",labelClick:"Tap to load more...",labelSubtitle:"",labelError:"Error on pull to load more"},i=200,j=1e3,k="update",l="pull",m="icon",n="error",o="label",p="sub",q="pullToLoadMore";b.prototype={init:function(){this._mergePullToLoadMoreConfig(),this.on("_initialize",this._appendPullToLoad),this.on("scrollMove",this._onScrollMovePTL)},_getPTLType:function(){var a=this.opts.useNativeScroller;return a?f.isIOS?(this._iosPTL=!0,g.ios):(this._nativePTL=!0,g["native"]):g.synthetic},_mergePullToLoadMoreConfig:function(){var a=this._mergeConfigOptions(h,this.opts.pullToLoadMoreConfig);void 0===a.type&&(a.type=this._getPTLType()),this.opts.pullToLoadMoreConfig=a},triggerPTL:function(){this._ptlLoading||this._setPTLLoadingState(!0),this._ptlExecTrigger()},_createPullToLoadMarkup:function(){var b=this,c=a.document.createElement("div"),d=this.opts.pullToLoadMoreConfig.labelPull,e=this.opts.pullToLoadMoreConfig.labelClick,f=this._nativePTL?e:d,g=this.opts.pullToLoadMoreConfig.labelSubtitle;return c.innerHTML=['<span class="'+m+'"></span>','<span class="'+o+'">'+f+"</span>",'<span class="'+p+'">'+g+"</span>"].join(""),this._nativePTL&&c.addEventListener("click",function(){b.triggerPTL()}),c.className=q,c},_createPullToLoadSpacer:function(){var b=a.document.createElement("div");return b.classList.add("spacer-pull-to-load-more"),b},_sizePullToShowMore:function(){var a=this.ptlSpacer,b=this.wrapperHeight-a.offsetTop;b=b>0?b:0,b!==this.ptlSpacerSize&&(this.ptlSpacerSize=b,a.style.height=this.ptlSpacerSize+"px")},_appendPullToLoad:function(){var a=this._createPullToLoadMarkup(),b=this._createPullToLoadSpacer();this.scroller.appendChild(b),this.scroller.appendChild(a),this.ptlSpacer=b,this.ptlDOM=a,this.ptlIcon=a.firstChild,this.ptlLabel=a.getElementsByClassName(o)[0],this._ptlThreshold=a.offsetHeight,this._ptlSnapTime=i,this.togglePullToLoadMore(this.opts.pullToLoadMore,!0),this._setSize()},_appendData:function(b){var c=a.document.createDocumentFragment(),d=this.scroller,e=this.ptlSpacer;b.forEach(function(a){c.appendChild(a)}),e?d.insertBefore(c,e):d.appendChild(c)},_ptlIsEnabled:function(){return this.opts.pullToLoadMore},_ptlToggle:function(a,b){var c=this.ptlDOM;c&&("disable"===a&&(this.opts.pullToLoadMore||b)?(c.style.display="none",this._ptlThreshold=0,this.opts.pullToLoadMore=!1):"enable"!==a||this.opts.pullToLoadMore&&!b||(c.style.display="",this._ptlThreshold=c.offsetHeight,this.opts.pullToLoadMore=!0))},_onScrollMovePTL:function(a,b,c){"gestureMove"===a&&c<this.maxScrollY&&this._needsPullToLoadMore(c)},_needsPullToLoadMore:function(a){if(this.opts.pullToLoadMore){var b=this.maxScrollY-this._ptlThreshold;this._ptlTriggered&&a>b?(this._setPTLPullState(!1),this._ptlTriggered=!1):!this._ptlTriggered&&b>a&&(this._setPTLPullState(!0),this._ptlTriggered=!0)}},_setPTLPullState:function(a){a?(this.ptlDOM.classList.add(l),this.ptlLabel.textContent=this.opts.pullToLoadMoreConfig.labelRelease,this._ptlTriggered=!0):(this.ptlDOM.classList.remove(l),this.ptlLabel.textContent=this.opts.pullToLoadMoreConfig.labelPull,this._ptlTriggered=!1)},_setPTLLoadingState:function(a){a?(this.ptlDOM.classList.add(k),this.ptlLabel.textContent=this.opts.pullToLoadMoreConfig.labelUpdate,this._ptlLoading=!0):(this.ptlDOM.classList.remove(k),this.ptlDOM.classList.remove(l),this.ptlLabel.textContent=this.opts.pullToLoadMoreConfig.labelPull,this._ptlLoading=!1)},_setPTLErrorState:function(a){var b=this.opts.pullToLoadMoreConfig.labelError;"boolean"!=typeof a||a?(this._setPTLLoadingState(!1),this.ptlDOM.classList.add(n),this.ptlLabel.textContent=a.labelError||b):(this.ptlDOM.classList.remove(n),this._setPTLPullState(!1))},_ptlExecTrigger:function(){var b=this,c=this.opts.onPullToLoadMore,d=function(){b._ptlExecTriggerCallback.apply(b,arguments)};c?c(d):a.setTimeout(function(){b._ptlExecTriggerCallback("no fnc")},600)},_ptlExecTriggerCallback:function(b,c){var e=this;b?(this._setPTLErrorState(b),this._ptlTriggered=!1,a.setTimeout(function(){e._resetPosition(e._ptlSnapTime),e._setPTLErrorState(!1)},j)):(this.appendItems(c),this._ptlTriggered=!1,this._setPTLLoadingState(!1),d(function(){e._resetPosition(e._ptlSnapTime)}))},getPTLSize:function(){return this._ptlThreshold||(this._ptlThreshold=this.ptlDOM.offsetHeight),this._ptlThreshold},getPTLSnapTime:function(){return this._ptlSnapTime},isTriggeredPTL:function(){return this._ptlTriggered},resetPositionPTL:function(){return this._triggerPTLAfterReset?(this._triggerPTLAfterReset=!1,this.triggerPTL()):(this._setPTLLoadingState(!0),this._triggerPTLAfterReset=!0),{x:this.x,y:this.maxScrollY-this.getPTLSize(),time:this.getPTLSnapTime()}},togglePullToLoadMore:function(a,b){var c=void 0!==a,d=c?a?"enable":"disable":"";c?this._ptlToggle(d,b):this._ptlToggle(this.opts.pullToLoadMore?"disable":"enable",b)}},e.PullToLoadMore=b}(window),function(a){"use strict";function b(){}a||(a=window);var c=a.__S||(a.__S={}),d=c.plugins||(c.plugins={}),e=c.Logger,f={labelNoData:"No more data to display",threshold:null};b.prototype={init:function(){this._mergeInfiniteLoading(),this.on("_initialize",this._initInfiniteLoading)},_mergeInfiniteLoading:function(){this.opts.infiniteLoadingConfig=this._mergeConfigOptions(f,this.opts.infiniteLoadingConfig)},_initInfiniteLoading:function(){var a=this.opts.infiniteLoadingConfig,b=this.opts.gpuOptimization?this._checkItemsthreshold:this._checkLoadingThreshold;return this.opts.infiniteLoading&&a.dataProvider?(this.on("scrollMove",b),this.on("scrollEnd",b),void(this._itemsThreshold=this.items&&this.items.length||10)):void e.log("warn","InfiniteLoading will not work because there is no data provider or is not activated")},_triggerInfiniteLoadingDataProvider:function(){var a=this,b=this.opts.infiniteLoadingConfig.dataProvider,c=function(){a._infiniteLoadingTriggerCallback.apply(a,arguments)};b?(e.log("fetching data"),this._ilFetchingData=!0,b(c)):this._infiniteLoadingTriggerCallback("noop")},_infiniteLoadingTriggerCallback:function(a,b){a||(b instanceof Array&&b.length?(e.log("Data fetched!"),this.appendItems(b)):"refresh"===b?(e.log("InfiniteLoading: refresh!"),this.refresh()):(this._ilNoMoreData=!0,e.log("No More data!"))),this._ilFetchingData=!1},_checkItemsthreshold:function(){if(!this._ilNoMoreData&&!this._ilFetchingData){var a=this._positionedSurfacesLast().contentIndex,b=this.items.length-1,c=this._itemsThreshold;c>b-a&&this._triggerInfiniteLoadingDataProvider()}},_checkLoadingThreshold:function(a,b,c){if(!this._ilNoMoreData&&!this._ilFetchingData){var d,e,f,g,h=this.opts.infiniteLoadingConfig;b||(b=this.x),c||(c=this.y),this.scrollVertical?(f=c,g=this.scrollerWidth):(f=b,g=this.scrollerHeight),e=h.threshold||3*g,d=g+f,e>d&&this._triggerInfiniteLoadingDataProvider()}},fetchData:function(){this._triggerInfiniteLoadingDataProvider()},unlockFetchData:function(){this._ilNoMoreData=!1},lockFetchData:function(){this._ilNoMoreData=!0}},d.InfiniteLoading=b}(window),function(a){"use strict";function b(){}a||(a=window);var c=a.__S||(a.__S={}),d=c.plugins||(c.plugins={}),e=c.Logger;b.prototype={init:function(){this.endless=!0},_itemsLeft:function(){return!0},_mod:function(a){var b=this.items.length;return(a%b+b)%b},_setActiveOffset:function(){this.activeOffset=(this.scrollVertical?this.wrapperHeight:this.wrapperWidth)-5},_momentum:function(a,b,c){var d=this._getVelocity(a,b,c),e=this._computeMomentum(d,a);return e},_resetPosition:function(){return!1},_isOutOfScroll:function(){return!1},_updateAllowed:function(a){return this._isScrolling||Math.abs(a.dist)>5},_getBoundaries:function(a,b){return{top:-a-b,bottom:-a+b+this.activeOffset}},_recycleEnableTest:function(){return!0},_initializePositions:function(){var a,b,c,d,f=this.items,g=f.length,h=this.surfacesPositioned,i=!0,j=this.wrapperSize+this.activeOffset,k=0;for(a=0;g>a&&i;a++)c=f[a],d=this._getAvailableSurface(),k+=this._attachItemInSurface(c,d,{index:a,offset:k}),i=j>k,h[a]=d;for(i=!0,k=0,j=this.activeOffset,a!==g&&i||e.log("[WARNING - SCROLLER ENDLESS PLUGIN] - Items are not sufficient to fulfill all scrollable area"),b=g-1;b>=a&&i;b--)c=f[b],d=this._getAvailableSurface(),k+=this._attachItemInSurface(c,d,{index:b,offset:h[0].offset,preCalculateSize:!0}),h.unshift(d),i=j>k;this._setInfiniteScrollerSize()}},d.Endless=b}(window),function(a){"use strict";function b(){}a||(a=window);var c=a.__S||(a.__S={}),d=c.constructor,e=c.plugins||(c.plugins={}),f=(c.styles,d.EASING),g=200,h="soft",i=2,j=600;b.prototype={init:function(){this._bindSnap()},_bindSnap:function(){this.on("beforeScrollStart",this._snapStart)},_snapStart:function(){this.initX=this.startX,this.initY=this.startY},_getNearesOffset:function(){this.surfacesPositioned},_afterEnd:function(){var a,b,c;this.moved||(a=this._getSnapPosition(),a.init%a.minSnap&&(b=Math.round(a.init/a.snapSize)*a.snapSize,c=g,this.scrollVertical?this.scrollTo(0,b,c):this.scrollTo(b,0,c)))},_getSnapSize:function(a){return a?this.itemHeight||this.wrapperHeight:this.itemWidth||this.wrapperWidth},_getSnapPosition:function(){var a;return a=this.scrollVertical?{snapSize:this._getSnapSize(!0),dist:this.distY,init:this.initY}:{snapSize:this._getSnapSize(),dist:this.distX,init:this.initX},a.minSnap=a.snapSize/i,a},_momentum:function(){return this.opts.snap===h?this._momentumSnapSoft.apply(this,arguments):this._momentumSnapSticky.apply(this,arguments)},_momentumSnapSticky:function(a,b,c){var d,e,f=this._getVelocity(a,b,c),h=this._momentumSnapSoft.apply(this,arguments),i=this._getSnapPosition(),k=i.snapSize,l=Math.round(i.init/k)*k;return Math.abs(i.init-h.destination)<i.minSnap?h={destination:Math.round(i.init/i.snapSize)*i.snapSize,time:g,snapBack:!0}:(d=l+(h.destination>a?k:-k),e=Math.abs((a-d)/f),h={destination:d,time:Math.min(e,j)}),h},_momentumSnapSoft:function(a,b,c,d,e){var h,i,j=this._getVelocity(a,b,c),k=this._computeMomentum(j,a),l=this._getSnapPosition();return!this.endless&&k.destination>0?(k=this._computeSnap(0,e,j,a),k.bounce=f.bounce):k.destination<d?(k=this._computeSnap(d,e,j,a),k.bounce=f.bounce):(h=Math.round(k.destination/l.snapSize)*l.snapSize,i=Math.abs(a-h)<l.minSnap?g:Math.abs((h-a)/j),k={destination:h,time:i}),k}},e.Snap=b}(window),function(a){"use strict";function b(a,b){this.wrapper="string"==typeof b.el?document.querySelector(b.el):b.el,this.indicator=this.wrapper.children[0],this.indicatorStyle=this.indicator.style,this.scroller=a,this.opts=h.simpleMerge(j,b),this.scrollVertical=a.scrollVertical,this.sizeRatioX=1,this.sizeRatioY=1,this.maxPosX=0,this.maxPosY=0,this.virtualSizeX=1,this.virtualSizeY=1,this.opts.interactive&&(this.opts.disableTouch||(h.bind(this.indicator,"touchstart",this),h.bind(window,"touchend",this)),this.opts.disablePointer||(h.bind(this.indicator,"MSPointerDown",this),h.bind(window,"MSPointerUp",this)),this.opts.disableMouse||(h.bind(this.indicator,"mousedown",this),h.bind(window,"mouseup",this)))}function c(){}a||(a=window);var d=a.__S||(a.__S={}),e=Date.now||function(){return(new Date).getTime()},f=a.requestAnimationFrame,g=d.styles,h=d.helpers,i=d.plugins||(d.plugins={}),j={interactive:!1,resize:!0,snap:!0},k=["position:absolute","z-index:9999"].join(";"),l=["-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box","position:absolute","background:rgba(0,0,0,0.5)","border:1px solid rgba(255,255,255,0.9)","border-radius:3px"].join(";"),m=["","height:7px","left:2px","right:2px","bottom:0"].join(";"),n=["","width:7px","bottom:2px","top:2px","right:1px"].join(";"),o=-.1;b.prototype={handleEvent:function(a){switch(a.type){case"touchstart":case"MSPointerDown":case"mousedown":this._start(a);break;case"touchmove":case"MSPointerMove":case"mousemove":this._move(a);break;case"touchend":case"MSPointerUp":case"mouseup":case"touchcancel":case"MSPointerCancel":case"mousecancel":this._end(a)}},destroy:function(){this.opts.interactive&&(h.unbind(this.indicator,"touchstart",this),h.unbind(this.indicator,"MSPointerDown",this),h.unbind(this.indicator,"mousedown",this),h.unbind(window,"touchmove",this),h.unbind(window,"MSPointerMove",this),h.unbind(window,"mousemove",this),h.unbind(window,"touchend",this),h.unbind(window,"MSPointerUp",this),h.unbind(window,"mouseup",this))},_start:function(a){var b=a.touches?a.touches[0]:a;a.preventDefault(),a.stopPropagation(),this.transitionTime(0),this.initiated=!0,this.moved=!1,this.lastPointX=b.pageX,this.lastPointY=b.pageY,this.startTime=e(),this.opts.disableTouch||h.bind(window,"touchmove",this),this.opts.disablePointer||h.bind(window,"MSPointerMove",this),this.opts.disableMouse||h.bind(window,"mousemove",this)},_move:function(a){{var b,c,d,f,g=a.touches?a.touches[0]:a;e()}a.preventDefault(),a.stopPropagation(),this.moved=!0,this.scroller.opts.gpuOptimization?(d=g.pageX-this.wrapper.getBoundingClientRect().left-this.width/2,f=g.pageY-this.wrapper.getBoundingClientRect().top-this.height/2):(b=g.pageX-this.lastPointX,c=g.pageY-this.lastPointY,this.lastPointX=g.pageX,this.lastPointY=g.pageY,d=this.x+b,f=this.y+c),this._pos(d,f),this.x=d,this.y=f},_end:function(a){this.initiated&&(this.initiated=!1,a.preventDefault(),a.stopPropagation(),h.unbind(window,"touchmove",this),h.unbind(window,"MSPointerMove",this),h.unbind(window,"mousemove",this))},_pos:function(a,b){var c=this;0>a?a=0:a>this.maxPosX&&(a=this.maxPosX),0>b?b=0:b>this.maxPosY&&(b=this.maxPosY),a=this.scrollVertical?this.scroller.x:Math.round(a/this.sizeRatioX),b=this.scrollVertical?Math.round(b/this.sizeRatioY):this.scroller.y,this._rafPos||(this._rafPos=f(function(){c._posRAF(a,b)}))},_posRAF:function(a,b){this.scroller.scrollTo(a,b),this._rafPos=!1},transitionTime:function(a){a=a||0,this.indicatorStyle[g.transitionDuration]=a+"ms"},transitionEasing:function(a){this.indicatorStyle[g.transitionTimingFunction]=a},getCurrentSizes:function(){return this.scrollVertical?{virtual:this.virtualSizeY,wrapperSize:this.wrapperHeight,maxScroll:this.scroller.maxScrollY}:{virtual:this.virtualSizeX,wrapperSize:this.wrapperWidth,maxScroll:this.scroller.maxScrollX}},getVirtualScrollSize:function(){var a=this.getCurrentSizes();return a.virtual<a.wrapperSize?Math.abs(a.maxScroll)||a.wrapperSize:a.virtual},getVirtualMaxSize:function(a){var b=this.getCurrentSizes();return b.maxScroll===-1/0?-a:b.virtual?b.wrapperSize-a:b.maxScroll},refresh:function(){this.transitionTime(0);var a=(this.scroller,this.wrapperHeight=this.wrapper.offsetHeight),b=this.wrapperWidth=this.wrapper.offsetWidth,c=this.scrollVertical?a:b,d=Math.max(this.getVirtualScrollSize(),c),e=this.getVirtualMaxSize(d),f=Math.max(Math.round(c*c/d),8);this.scrollVertical?(this.opts.resize?(this.indicatorHeight=f,this.indicatorStyle.height=this.indicatorHeight+"px"):this.indicatorHeight=this.indicator.offsetHeight,this.maxPosY=c-this.indicatorHeight,this.minBoundaryY=0,this.maxBoundaryY=this.maxPosY,this.sizeRatioY=this.maxPosY/e||o,this.height=this.indicatorHeight):(this.opts.resize?(this.indicatorWidth=f,this.indicatorStyle.width=this.indicatorWidth+"px"):this.indicatorWidth=this.indicator.offsetWidth,this.maxPosX=c-this.indicatorWidth,this.minBoundaryX=0,this.maxBoundaryX=this.maxPosX,this.sizeRatioX=this.maxPosX/e||o,this.width=this.indicatorWidth),this.updatePosition()},_updatePositionAbstractProperties:function(a,b){return this.scrollVertical?{posRatio:b,indicatorSize:this.indicatorHeight,size:this.height,minBoundary:this.minBoundaryY,maxBoundary:this.maxBoundaryY,maxPos:this.maxPosY}:{posRatio:a,indicatorSize:this.indicatorWidth,size:this.width,minBoundary:this.minBoundaryX,maxBoundary:this.maxBoundaryX,maxPos:this.maxPosX}},updatePosition:function(){var a,b,c=this.sizeRatioX*this.scroller.x,d=this.sizeRatioY*this.scroller.y,e=this._updatePositionAbstractProperties(c,d),f=e.posRatio,h=1,i=1;f<e.minBoundary?(b=this.opts.snap?Math.max(e.indicatorSize+3*e.posRatio,8):e.indicatorSize,a=b/e.size,f=e.minBoundary-(e.size-b)/2):f>e.maxBoundary&&(b=this.opts.snap?Math.max(e.indicatorSize-3*(e.posRatio-e.maxPos),8):e.indicatorSize,a=b/e.size,f=e.maxPos+(e.size-b)/2),a&&(this.scrollVertical?(i=a,d=f):(h=a,c=f)),this.x=c,this.y=d,this.indicatorStyle[g.transform]="matrix3d("+h+",0,0,0,0,"+i+",0,0,0,0,1,0,"+c+","+d+", 0, 1)"}},c.prototype={init:function(){this._indicators=[],this._virtualScroll=0,this.on("_initialize",this._initializeIndicators),this.on("_update",this._updateIndicators),this.on("_refresh",this._refreshIndicators),this._hook("after","_transitionTime",this._transitionTimeIndicators),this._hook("after","_transitionEasing",this._transitionEasingIndicators),this._hook("after","_translate",this._updateIndicators),this._hook("after","_setInfiniteScrollerSize",this._setVirtualScrollSize)},_initializeIndicators:function(){var a=this;this.opts.scrollbars&&this._createDefaultScrollbars(this.opts.scrollbars),this.opts.indicators&&this.opts.indicators.forEach(function(b){a.addIndicator(b.el,b.config)}),this._initVirtualScrollSize()},_initVirtualScrollSize:function(){var a=this.scrollVertical?this.hasScrollY:this.hasScrollX,b=this.scrollVertical?"virtualSizeY":"virtualSizeX",c=a?this._virtualScroll:0;this._indicators.forEach(function(a){a[b]=c,a.refresh()})},_setVirtualScrollSize:function(){var a=this._positionedSurfacesLast(),b=a.offset+(this.scrollVertical?a.height:a.width),c=this.scrollVertical?"virtualSizeY":"virtualSizeX";b>this._virtualScroll&&(this._virtualScroll=b,this._indicators.forEach(function(a){a[c]=b,a.refresh()}))},_updateIndicators:function(){this._indicators.forEach(function(a){a.updatePosition()})},_refreshIndicators:function(){this._indicators.forEach(function(a){a.refresh()})},_transitionTimeIndicators:function(a){a||(a=0),this._indicators.forEach(function(b){b.transitionTime(a)})},_transitionEasingIndicators:function(a){this._indicators.forEach(function(b){b.transitionEasing(a)})},_createDefaultScrollbars:function(){var a=!0,c=!1,d=this._createDefaultScrollbar(this.scrollVertical,a,c);this.wrapper.appendChild(d),this._indicators.push(new b(this,{el:d,interactive:a}))},_createDefaultScrollbar:function(b,c,d){var e=a.document.createElement("div"),f=a.document.createElement("div"),g=k,h=l;return f.className="scrollbar",f.style.cssText=h,b?(d||(e.style.cssText+=g+n,f.style.width="100%"),e.className="scrollbar-vertical"):(d||(e.style.cssText+=g+m,f.style.height="100%"),e.className="scrollbar-horizontal"),c||(e.style.pointerEvents="none"),e.appendChild(f),e},addIndicator:function(a,c){c||(c={}),c.el=a;var d=new b(this,c);this._indicators.push(d),d.refresh()}},c.Indicator=b,i.Indicators=c}(window);